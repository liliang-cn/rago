{
  "steps": [
    {
      "id": "list_files",
      "name": "List Files",
      "type": "tool",
      "tool": "filesystem",
      "inputs": {
        "action": "list",
        "path": "{{input.directory}}",
        "pattern": "*.*"
      },
      "outputs": {
        "files": "file_list"
      },
      "retry": {
        "enabled": false,
        "max_retries": 0,
        "delay": 0,
        "backoff_type": "",
        "max_delay": 0
      },
      "timeout": 0
    },
    {
      "id": "process_loop",
      "name": "Process Each File",
      "type": "loop",
      "tool": "",
      "inputs": {
        "items": "{{file_list}}"
      },
      "outputs": null,
      "retry": {
        "enabled": false,
        "max_retries": 0,
        "delay": 0,
        "backoff_type": "",
        "max_delay": 0
      },
      "timeout": 0
    },
    {
      "id": "read_file",
      "name": "Read File",
      "type": "tool",
      "tool": "filesystem",
      "inputs": {
        "action": "read",
        "path": "{{current_file}}"
      },
      "outputs": {
        "content": "file_content"
      },
      "retry": {
        "enabled": false,
        "max_retries": 0,
        "delay": 0,
        "backoff_type": "",
        "max_delay": 0
      },
      "timeout": 0,
      "depends_on": [
        "process_loop"
      ]
    },
    {
      "id": "process_content",
      "name": "Process Content",
      "type": "tool",
      "tool": "sequential-thinking",
      "inputs": {
        "content": "{{file_content}}",
        "task": "Process and analyze this content"
      },
      "outputs": {
        "result": "processed_content"
      },
      "retry": {
        "enabled": false,
        "max_retries": 0,
        "delay": 0,
        "backoff_type": "",
        "max_delay": 0
      },
      "timeout": 0,
      "depends_on": [
        "read_file"
      ]
    },
    {
      "id": "save_result",
      "name": "Save Processed Result",
      "type": "tool",
      "tool": "filesystem",
      "inputs": {
        "action": "write",
        "content": "{{processed_content}}",
        "path": "{{current_file}}.processed"
      },
      "outputs": null,
      "retry": {
        "enabled": false,
        "max_retries": 0,
        "delay": 0,
        "backoff_type": "",
        "max_delay": 0
      },
      "timeout": 0,
      "depends_on": [
        "process_content"
      ]
    }
  ],
  "triggers": null,
  "variables": {
    "directory": "{{input.directory}}",
    "file_pattern": "*.*"
  },
  "error_policy": {
    "strategy": "",
    "max_retries": 0,
    "retry_delay": 0
  },
  "timeout": 0,
  "metadata": {}
}